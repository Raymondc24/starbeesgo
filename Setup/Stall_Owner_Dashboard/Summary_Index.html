<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-storage-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDvPMK4D81brwvdaFzPEGywgX8sDJQdqNs",
            authDomain: "starbeesgo.firebaseapp.com",
            projectId: "starbeesgo",
            storageBucket: "starbeesgo.firebasestorage.app",
            messagingSenderId: "607023497912",
            appId: "1:607023497912:web:92b66e069b6fc99d602a4d",
            measurementId: "G-1B1DR66LQ5"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();
    </script>
  <meta charset="UTF-8">
  <title>Order Summary</title>
  <link rel="stylesheet" href="Summary_Style.css">
</head>
<body>
  <header class="summary-header">
    <button id="backBtn" class="arrow-btn">&#8592;</button>
    <h1>Order Summary</h1>
  </header>
  <main class="summary-main">
    <!-- Only the filter section shown -->
    <section class="filter-section">
      <form id="filterForm">
        <div class="filter-row">
          <label>
            Year:<br>
            <input type="number" id="filterYear" min="2000" max="2100" placeholder="YYYY">
          </label>
          <label>
            Month:<br>
            <input type="number" id="filterMonth" min="1" max="12" placeholder="MM">
          </label>
          <label>
            Date:<br>
            <input type="date" id="filterDate">
          </label>
        </div>
        <div class="filter-row">
          <label style="flex:1;">
            Payment Method:<br>
            <select id="filterPayment">
              <option value="">All</option>
            </select>
          </label>
        </div>
        <div class="filter-row">
          <label style="flex:1;">
            Food Type:<br>
            <select id="filterFoodType">
              <option value="">All</option>
            </select>
          </label>
          <label id="foodNameRow" style="flex:1; display:none;">
            Food Name:<br>
            <select id="filterFoodName">
              <option value="">All</option>
            </select>
          </label>
        </div>
        <div class="filter-row center">
          <button type="submit" id="filterBtn">Filter</button>
          <button type="button" id="resetBtn">Reset</button>
        </div>
      </form>
    </section>
    <section class="table-section">
      <table id="summaryTable">
        <thead>
          <tr>
            <th>No.</th>
            <th data-sort="orderId">Order ID</th>
            <th data-sort="orderDate">Order Date</th>
            <th data-sort="paymentMethod">Payment Method</th>
            <th data-sort="foodType">Food Type</th>
            <th data-sort="foodName">Food Name</th>
            <th data-sort="quantity">Quantity</th>
            <th data-sort="price">Price (RM)</th>
            <th data-sort="totalPrice">Total Price (RM)</th>
            <th data-sort="amount">Total Amount (RM)</th>
          </tr>
        </thead>
        <tbody>
          <!-- Orders will be rendered here -->
        </tbody>
        <tfoot>
          <tr>
            <td colspan="8" style="text-align:right;"><strong>Total</strong></td>
            <td id="totalAmount"><strong>RM 0.00</strong></td>
            <td></td>
          </tr>
        </tfoot>
      </table>
      <div class="export-btn-row">
        <button id="exportBtn" class="export-btn">Export to Excel</button>
      </div>
    </section>
  </main>
<script src="https://cdn.jsdelivr.net/npm/exceljs/dist/exceljs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
<script src="Summary_Script.js"></script>
</body>
</html>